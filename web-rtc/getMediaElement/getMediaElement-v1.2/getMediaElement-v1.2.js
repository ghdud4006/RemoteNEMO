// Last time updated at 27 Feb 2014, 14:46:23

// Muaz Khan     - www.MuazKhan.com
// MIT License   - www.WebRTC-Experiment.com/licence
// Documentation - github.com/muaz-khan/WebRTC-Experiment/tree/master/getMediaElement

// Demo          - www.WebRTC-Experiment.com/getMediaElement

// _______________________
// getMediaElement-v1.1.js

document.write('<link rel="stylesheet" href="https://www.WebRTC-Experiment.com/getMediaElement-v1.2.css">');

(function() {
    window.getMediaElement = function(mediaStream, options) {
        // if second argument is absent
        if (!options) options = { };
		
        // a reference to HTMLAudioElement or HTMLVideoElement
        var mediaElement;

        // checking whether MediaStream object is passed or HTML Audio/Video element
        if (!mediaStream.nodeName || (mediaStream.nodeName.toLowerCase() != 'audio' && mediaStream.nodeName.toLowerCase() != 'video')) {
            // if MediaStream object is passed then create HTML Audio/Video element according to MediaStream type
            mediaElement = document.createElement(mediaStream.getVideoTracks().length ? 'video' : 'audio');
            mediaElement[!!navigator.mozGetUserMedia ? 'mozSrcObject' : 'src'] = !!navigator.mozGetUserMedia ? mediaStream : window.webkitURL.createObjectURL(mediaStream);
        } else mediaElement = mediaStream;

        // by default, HTML Audio/Video elements are muted if "autoplay" attribute is absent
        mediaElement.play();

        // this object is used to understand target media element's type
        options.onlyAudio = mediaElement.nodeName.toLowerCase() == 'audio';

        // Canvas2D is used to render video frames and other stuff!
        var canvas = document.createElement('canvas');
        var context = canvas.getContext('2d');

        // width/height for canvas2d element

        function setWidth() {
            canvas.width = options.width || mediaElement.videoWidth || mediaElement.clientWidth || innerWidth / 3;
            canvas.height = options.height || mediaElement.videoHeight || mediaElement.clientHeight || (options.onlyAudio == true ? 150 : (canvas.width - (canvas.width / 4))  );
        }

        // set width/height for canvas2d as soon as "getMediaElement" is initiated;
        // because same values are used to set container elements' width/height
        setWidth();

        // states of the audio/video control buttons
        var audioMuted, videoMuted;

        // invoked when audio/video is muted.
        options.muted = function(type) {
            if (type == 'audio') {
                audioMuted = true;
            } else videoMuted = true;
        };

        // invoked when audio/video is unmuted.
        options.unmuted = function(type) {
            if (type == 'audio') {
                audioMuted = false;
            } else videoMuted = false;
        };

        // invoked when audio/video recording started.
        options.startedRecording = function() {
            recording = true;
        };

        // invoked when audio/video recording stopped.
        options.stoppedRecording = function() {
            recording = false;
        };

        // used for taking snapshots; setting-up a 5 seconds interval for taking snapshot!
        var isTakeSnapshot = false;
        var preparingSnapshot = false;
        var takingSnapshotIn = 6;

        options.takeSnapshot = function() {
            preparingSnapshot = true;
            (function selfInvoker() {
                takingSnapshotIn--;
                if (!takingSnapshotIn) {
                    preparingSnapshot = false;
                    isTakeSnapshot = true;
                } else setTimeout(selfInvoker, 1000);
            })();
        };

        // image drawn on canvas2d when audio is muted.
        var mutedAudio = new Image(50, 50);
        mutedAudio.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAAC2CAMAAABta6akAAADAFBMVEUAAABtbW1ubm5vb29wcHBycnJzc3N0dHR1dXV2dnZ3d3d4eHh5eXl6enp8fHx9fX3/AACAgICBgYGDg4OFhYWGhoaHh4eJiYmKioqLi4uNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJydnZ2enp4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACE9ZKUAAABAHRSTlP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AU/cHJQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTFH80I3AAAFbklEQVR4Xu3b6VrTQBQGYDYXVGhURFABF1CU+7++aJI2zUzm7OdMkSf95YPJ5M03a6bpXvvoP3uPXtguRI86WlJcUvRIwKOMpS0uKXok4FGGb1s8f9FsPp89dH0ZfsRfo278xxcXphdx7hv+4oD0IUJAF6QH8QATNs2pMUkHIg60B2kmfqWFTWPqN1bic47Q1m2MRCbQZLQR+ULD8GMicmvZNkRaiKyesg16pRx8LERJNRvGHgNRKtQ2Rz2RmFNKN/BSVdV6ojxEZYxqokaoMz5hoi7E5kjRGrUpKonwEhduBEpi4SmAhb4CUvzQnX1R/k8lkeWZHwQJz4ZDL4vGqkRCCBhrEklh2agjnmsqmiEsGnXE7RM938oSlow6Ih82HskUFoy1iGzh3FiJKBDOxvA6RJEwN1YhXmNzSqFdp4fXINqEys07UY+WCvPj41O0CuNTNAvDiXZhNNFBGEz0EMYSXYShRB9hJNFJGEj0EsYR3YRhRD9hFNFRGET0FMYQXYUhRF9hBNFZGED0FvoT3YXuRH+hNzFA6EyMEPoSQ4SuxBihJzFI6EiMEvoRw4RuxDghTfzT7d88ZFtbsz0dvbAvH/1Oi9rT2WDSQnKiXlguP7kaQdxakrMyol2IBYkT+1oYPghRL4TKF6Q4TWt6WpKiXthC5TsTDcJKRKkwaTFVUhQLqxPlwtpEhbAyUSOsS1QJqxJ1wppEpbAiUSusR1QLqxGhV4z7923wDzTXg2tGfKUDTVDnwm9vOcsRZyJQ3PqNoEeRYpnIEtZqi0UiT7hLIlO4QyJXOH11+jZwvTivaK6wmQ6oyUnKHn0yuU30dWK2MKnnZ5PiT5TEO1ZNtC1fCDbFH0oi7/lHIpT3FmrDhJWiIEP4cRzeM2HvRsD7BRJhQmQ2Iz5R+N4XMAuCGwbqFK/GK/kLk4b+Vk0ci/ERapoi1V02xAjhEasv0r9JHYpxEh7D22vIJii1BdrH6CTMNmOnId4YifFCdCeZTPEwKMP7ZFTCNrtJYlt+8V80L/eaU2S7/LuNaHlOgfvsJTtEctCBbk8063WcrKBE+BoLUUuUCrNabt/wQ1QSpcJZSukMjoaoI1YVqohCYTqndImlGVI/GaMHnVktCIXzWszWaXg103O04VmvlxSu/y4lAj8K254oThHK8CKrPsA3q2Z07uudUiIkHObxu+NNQitoYs/vhKpmMREX0pfLu0rzkT5HlqJZmLVD1u9oRUSzcPbMRWcoq+jdCCXdxV94zwlRQLQK05VDV+XM38Wz26JRmK4PhzbJypDfFsFZ7yfnQulTwLrTcE4UDN3YvLwirzXryIIMuSlSKwcMmTzRb7HkfY0HsNoiJewuXOydyd7XNEtmT2HP0Rxhf/1Xv8dbvz2b7hLnNf2NnyGrotnCYpMr/VEC5BB3LaSHbnfhe1mGdIruQimQJMJzCrvhJQeCC11Ejg86kLD/CkqOPJBHSD0YoMK2/SRD7quAeEUTwn9XfOAjkf12go5UNC3syt5nKZUBErMLT9gVckgoLT6sLfKFneAaUt4YfQhRJlw7kpPO7LihBKAtqoTpOOQlBIhKIfO7YSG+mKJWWI8IvVUFvSe2TWXaaYRZwYeXUgR6Jy2slqJeuGMiI8OKPboUI0tYLcX2Ym7kCesR29nuBlNYkZgbucKaxNTIFlYlTo25cPI7GtZacXaQcFAHl7Rje8yFOlZ6lggJr7rXxgghe2uRWHUPde1ey0OckhjRh9RCUR7VLDSyNu8m97wQSw3gCaao2Cax7jBKU/wfiC5GyZhDb4EWSrP2ahGQ3F8UlhZyuLgthijQQheiR+ZLikuKHgl4lLG0xSVFjwQ8yljaokeKfwGZHvq7M41iWQAAAABJRU5ErkJggg==';

        // image drawn on canvas2d when video is muted.
        var mutedVideo = new Image(50, 50);
        mutedVideo.src = 'data:image/png;base64,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';

        // image drawn on canvas2d when audio/video recording is started.
        var recording = false;
        var recordingImage = new Image(50, 50);
        recordingImage.src = 'data:image/png;base64,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';

        // setting text's default fonts for canvas2d; because when canvas2d is resized to full-screen mode;
        // it forgets old preference. That's why setting defaults on on request-animation-frame.

        function setFonts() {
            context.font = 'Normal 20px Arial';
            context.fillStyle = 'red';
            context.strokeStyle = 'red';
            context.lineWidth = 2;
            context.lineCap = 'round';
            context.lineJoin = 'round';
        }

        // loop-back function used to draw video frames on canvas2d and relevant stuff.

        function drawImage() {
            // clear old drawing
            context.clearRect(0, 0, canvas.width, canvas.height);

            // setting defaults
            setFonts();

            // audio's snapshot can't be taken
            if (isTakeSnapshot && !options.onlyAudio) {
                isTakeSnapshot = false;
                takingSnapshotIn = 6;

                context.drawImage(mediaElement, 0, 0, canvas.width, canvas.height);
                var snapshot = canvas.toDataURL('image/png');

                if (options.onTakeSnapshot) options.onTakeSnapshot(snapshot);
                else window.open(snapshot);

                return requestAnimationFrame(drawImage);
            }

            // if video is muted; don't draw video frames to canvas2d surface.
            // else draw frames to context.
            if (!videoMuted) {
                if (!options.onlyAudio) {
                    // make sure that it is not HTMLAudioElement
                    context.drawImage(mediaElement, 0, 0, canvas.width, canvas.height);
                } else {
                    // if it is HTMLAudioElement then draw an image instead of video frames.
                    var image = new Image(50, 50);
                    image.src = 'data:image/png;base64,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';
                    context.drawImage(image, 0, 0, canvas.width, canvas.height);
                }
            } else {
                // draw image to indicate that video track is disabled.
                context.drawImage(mutedVideo, canvas.width / 2 - 50, canvas.height / 2 - 50, 150, 150);
                context.fillText('Camera Disabled.', canvas.width / 2 - 100, canvas.height / 2 - 70);
            }

            // if audio is muted.
            if (audioMuted) {
                // draw image to indicate that audio track is disabled.
                context.drawImage(mutedAudio, canvas.width / 2 - 130, 0, 25, 25);
                context.fillText('Microphone Disabled.', canvas.width / 2 - 100, 20);
            }

            // name/title of the user
            if (options.title) {
                var name = options.title;
                var nameLength = name.length * 10;
                context.fillText(name, 10, 50, nameLength);

                context.strokeRect(5, 30, nameLength + 10, 30);
            }

            // if audio/video recording started.
            if (recording) {
                // draw image to indicate that audio/video recording is on the go.
                context.drawImage(recordingImage, canvas.width / 2 - 100, canvas.height - 70, 25, 25);
                context.fillText('Recording...', canvas.width / 2 - 70, canvas.height - 50);
            }

            // 5 seconds interval before taking snapshot
            if (preparingSnapshot) {
                context.fillText('Taking snapshot in ' + takingSnapshotIn + ' seconds.', canvas.width / 4, canvas.height / 2 - 70);
            }

            // use request animation frame to use GPU for frames drawing on canvas2d surface.
            requestAnimationFrame(drawImage);
        }

        drawImage();

        // to handle full-screen modes

        function screenStateChange(e, skip) {
            if (!skip && e.srcElement != canvas && e.srcElement != canvas.parentNode.parentNode) return;

            var isFullScreeMode = document.webkitIsFullScreen || document.mozFullScreen || document.fullscreen;

            if (isFullScreeMode) {
                canvas.width = innerWidth;
                canvas.height = innerHeight;
            } else setWidth();
            return canvas;
        }

        // to allow external object to set canvas width/height according to full-screen mode
        options.screenStateChange = screenStateChange;

        // allow external object to access HTML Audio/Video element
        options.mediaElement = mediaElement;

        // returning internal object
        return internalObject(canvas, options);
    };

    // internal object is used to encapsulate canvas2d element into a DIV container
    // also append control buttons according to user's preferences

    function internalObject(canvas, options) {
        // buttons that user want to draw on custom media element
        var buttons = options.buttons || ['mute-audio', 'mute-video', 'full-screen', 'volume-slider', 'stop'];

        // method used to search item in the array
        buttons.has = function(element) {
            return buttons.indexOf(element) !== -1;
        };

        // to set default states
        options.toggle = options.toggle || [];
        options.toggle.has = function(element) {
            return options.toggle.indexOf(element) !== -1;
        };

        // that is the custom media element's container object
        // it is what returned to end-user
        var mediaElementContainer = document.createElement('div');
        mediaElementContainer.className = 'media-container';

        // this element is used to encapsulate control buttons
        var mediaControls = document.createElement('div');
        mediaControls.className = 'media-controls';
        mediaElementContainer.appendChild(mediaControls);

        // if user want to include audio mute/unmute button
        if (buttons.has('mute-audio')) {
            var muteAudio = document.createElement('div');
            muteAudio.className = 'control ' + (options.toggle.has('mute-audio') ? 'unmute-audio selected' : 'mute-audio');
            mediaControls.appendChild(muteAudio);

            muteAudio.onclick = function() {
                if (muteAudio.className.indexOf('unmute-audio') != -1) {
                    muteAudio.className = muteAudio.className.replace('unmute-audio selected', 'mute-audio');
                    options.mediaElement.muted = false;
                    if (options.onUnMuted) options.onUnMuted('audio');
                    options.unmuted('audio');
                } else {
                    muteAudio.className = muteAudio.className.replace('mute-audio', 'unmute-audio selected');
                    options.mediaElement.muted = true;
                    if (options.onMuted) options.onMuted('audio');
                    options.muted('audio');
                }
            };
        }

        // if user want to include video mute/unmute button
        if (buttons.has('mute-video') && !options.onlyAudio) {
            var muteVideo = document.createElement('div');
            muteVideo.className = 'control ' + (options.toggle.has('mute-video') ? 'unmute-video selected' : 'mute-video');
            mediaControls.appendChild(muteVideo);

            muteVideo.onclick = function() {
                if (muteVideo.className.indexOf('unmute-video') != -1) {
                    muteVideo.className = muteVideo.className.replace('unmute-video selected', 'mute-video');
                    options.mediaElement.muted = false;
                    options.mediaElement.play();
                    if (options.onUnMuted) options.onUnMuted('video');
                    options.unmuted('video');
                } else {
                    muteVideo.className = muteVideo.className.replace('mute-video', 'unmute-video selected');
                    options.mediaElement.muted = true;
                    options.mediaElement.pause();
                    if (options.onMuted) options.onMuted('video');
                    options.muted('video');
                }
            };
        }

        // if user want to include take-snapshot button
        if (buttons.has('take-snapshot') && !options.onlyAudio) {
            var takeSnapshot = document.createElement('div');
            takeSnapshot.className = 'control take-snapshot';
            mediaControls.appendChild(takeSnapshot);

            takeSnapshot.onclick = function() {
                options.takeSnapshot();
            };
        }

        // if user want to include "eject" button
        if (buttons.has('stop')) {
            var stop = document.createElement('div');
            stop.className = 'control stop';
            mediaControls.appendChild(stop);

            stop.onclick = function() {
                if (mediaElementContainer.parentNode) {
                    mediaElementContainer.parentNode.removeChild(mediaElementContainer);
                }
                if (options.onStopped) options.onStopped();
            };
        }

        // this element is used to encapsulate volume control and full-screen buttons
        // as well as audio/video recording buttons
        var volumeControl = document.createElement('div');
        volumeControl.className = 'volume-control';

        // if user want to include audio-recording button
        if (buttons.has('record-audio')) {
            var recordAudio = document.createElement('div');
            recordAudio.className = 'control ' + (options.toggle.has('record-audio') ? 'stop-recording-audio selected' : 'record-audio');
            volumeControl.appendChild(recordAudio);

            recordAudio.onclick = function() {
                if (recordAudio.className.indexOf('stop-recording-audio') != -1) {
                    recordAudio.className = recordAudio.className.replace('stop-recording-audio selected', 'record-audio');
                    if (options.onRecordingStopped) options.onRecordingStopped('audio');
                    options.stoppedRecording();
                } else {
                    recordAudio.className = recordAudio.className.replace('record-audio', 'stop-recording-audio selected');
                    if (options.onRecordingStarted) options.onRecordingStarted('audio');
                    options.startedRecording();
                }
            };
        }

        // if user want to include video-recording button
        if (buttons.has('record-video') && !options.onlyAudio) {
            var recordVideo = document.createElement('div');
            recordVideo.className = 'control ' + (options.toggle.has('record-video') ? 'stop-recording-video selected' : 'record-video');
            volumeControl.appendChild(recordVideo);

            recordVideo.onclick = function() {
                if (recordVideo.className.indexOf('stop-recording-video') != -1) {
                    recordVideo.className = recordVideo.className.replace('stop-recording-video selected', 'record-video');
                    if (options.onRecordingStopped) options.onRecordingStopped('video');
                    options.stoppedRecording();
                } else {
                    recordVideo.className = recordVideo.className.replace('record-video', 'stop-recording-video selected');
                    if (options.onRecordingStarted) options.onRecordingStarted('video');
                    options.startedRecording();
                }
            };
        }

        // if user want to include volume-slider control
        if (buttons.has('volume-slider')) {
            var volumeSlider = document.createElement('div');
            volumeSlider.className = 'control volume-slider';
            volumeControl.appendChild(volumeSlider);

            var slider = document.createElement('input');
            slider.type = 'range';
            slider.min = 0;
            slider.max = 100;
            slider.value = typeof options.volume != 'undefined' ? options.volume : 100;
            slider.onchange = function() {
                options.mediaElement.volume = '.' + slider.value.toString().substr(0, 1);
            };
            volumeSlider.appendChild(slider);
        }

        // setting default volume
        options.mediaElement.volume = typeof options.volume != 'undefined' ? options.volume : 1;

        // if user want to include zoomin/zoomout buttons
        if (buttons.has('full-screen')) {
            var zoom = document.createElement('div');
            zoom.className = 'control ' + (options.toggle.has('zoom-in') ? 'zoom-out selected' : 'zoom-in');

            if (!slider && !recordAudio && !recordVideo && zoom) {
                mediaControls.insertBefore(zoom, mediaControls.firstChild);
            } else volumeControl.appendChild(zoom);

            zoom.onclick = function() {
                if (zoom.className.indexOf('zoom-out') != -1) {
                    zoom.className = zoom.className.replace('zoom-out selected', 'zoom-in');
                    exitFullScreen();
                } else {
                    zoom.className = zoom.className.replace('zoom-in', 'zoom-out selected');
                    launchFullscreen(mediaElementContainer);
                }
            };

            // this method is used to launch full screen

            function launchFullscreen(element) {
                if (element.requestFullscreen) {
                    element.requestFullscreen();
                } else if (element.mozRequestFullScreen) {
                    element.mozRequestFullScreen();
                } else if (element.webkitRequestFullscreen) {
                    element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
                }
            }

            // this method is used to leave full screen

            function exitFullScreen() {
                if (document.fullscreen) {
                    document.cancelFullScreen();
                }

                if (document.mozFullScreen) {
                    document.mozCancelFullScreen();
                }

                if (document.webkitIsFullScreen) {
                    document.webkitCancelFullScreen();
                }
            }

            // this method is used to fire screen state change events

            function screenStateChange(e) {
                options.screenStateChange(e);

                if (e.srcElement != mediaElementContainer) return;

                var isFullScreeMode = document.webkitIsFullScreen || document.mozFullScreen || document.fullscreen;

                mediaElementContainer.style.width = (isFullScreeMode ? window.innerWidth : (canvas.width + 4)) + 'px';
                mediaElementContainer.style.display = isFullScreeMode ? 'block' : 'inline-block';

                mediaBox.style.height = (isFullScreeMode ? window.innerHeight : canvas.height) + 'px';

                if (!isFullScreeMode && options.onZoomout) options.onZoomout();
                if (isFullScreeMode && options.onZoomin) options.onZoomin();

                if (!isFullScreeMode && zoom.className.indexOf('zoom-out') != -1) {
                    zoom.className = zoom.className.replace('zoom-out selected', 'zoom-in');
                    if (options.onZoomout) options.onZoomout();
                }
                setTimeout(adjustControls, 1000);
            }

            document.addEventListener('fullscreenchange', screenStateChange, false);
            document.addEventListener('mozfullscreenchange', screenStateChange, false);
            document.addEventListener('webkitfullscreenchange', screenStateChange, false);
            document.addEventListener('ofullscreenchange', screenStateChange, false);
        }

        // append this container element only if it has any single button
        if (buttons.has('volume-slider') || buttons.has('full-screen') || buttons.has('record-audio') || buttons.has('record-video')) {
            mediaElementContainer.appendChild(volumeControl);
        }

        // media box is another container to encapsulate canvas2d element
        var mediaBox = document.createElement('div');
        mediaBox.className = 'media-box';
        mediaElementContainer.appendChild(mediaBox);

        // canvas2d is appended to media box
        mediaBox.appendChild(canvas);

        // setting media box's width/height according to width/height of canvas2d element
        mediaElementContainer.style.width = (canvas.width + 4) + 'px';
        mediaBox.style.height = canvas.height + 'px';

        var times = 0;

        // this function is used to make sure control buttons are always placed in relevant postions

        function adjustControls() {
            mediaControls.style.marginLeft = (mediaElementContainer.clientWidth - mediaControls.clientWidth - 2) + 'px';

            if (slider) {
                slider.style.width = (mediaElementContainer.clientWidth / 3) + 'px';
                volumeControl.style.marginLeft = (mediaElementContainer.clientWidth / 3 - 30) + 'px';

                if (zoom) zoom.style['border-top-right-radius'] = '5px';
            } else {
                volumeControl.style.marginLeft = (mediaElementContainer.clientWidth - volumeControl.clientWidth - 2) + 'px';
            }

            volumeControl.style.marginTop = (mediaElementContainer.clientHeight - volumeControl.clientHeight - 2) + 'px';

            if (times < 10) {
                times++;
                setTimeout(adjustControls, 1000);
            } else times = 0;
        }

        // to show control buttons only when user enters mouse over the custom control
        if (options.showOnMouseEnter) {
            mediaElementContainer.onmouseenter = mediaElementContainer.onmousedown = function() {
                adjustControls();
                mediaControls.style.opacity = 1;
                volumeControl.style.opacity = 1;
            };

            mediaElementContainer.onmouseleave = function() {
                mediaControls.style.opacity = 0;
                volumeControl.style.opacity = 0;
            };
        } else {
            setTimeout(function() {
                adjustControls();
                setTimeout(function() {
                    mediaControls.style.opacity = 1;
                    volumeControl.style.opacity = 1;
                }, 300);
            }, 700);
        }

        adjustControls();

        // capturing resize event
        window.addEventListener('resize', adjustControls, false);

        // to allow user to change control buttons states at runtime
        mediaElementContainer.toggle = function(clasName) {
            if (typeof clasName != 'string') {
                for (var i = 0; i < clasName.length; i++) {
                    mediaElementContainer.toggle(clasName[i]);
                }
                return;
            }

            if (clasName == 'mute-audio' && muteAudio) muteAudio.onclick();
            if (clasName == 'mute-video' && muteVideo) muteVideo.onclick();

            if (clasName == 'record-audio' && recordAudio) recordAudio.onclick();
            if (clasName == 'record-video' && recordVideo) recordVideo.onclick();

            if (clasName == 'stop' && stop) stop.onclick();

            return this;
        };

        // todo: need to make sure that "onmuted" is fired when media element is muted.
        options.mediaElement.onmuted = function() {
            if (muteAudio && muteAudio.className.indexOf('unmute-audio') == -1) {
                muteAudio.className = muteAudio.className.replace('mute-audio', 'unmute-audio selected');
            }

            if (muteVideo && muteVideo.className.indexOf('unmute-video') == -1) {
                muteVideo.className = muteVideo.className.replace('mute-video', 'unmute-video selected');
            }
        };

        // to allow end-user to access original HTML Audio/Video element
        // he can use it to manually mute/unmute or change volume
        mediaElementContainer.media = options.mediaElement;

        // returning custom control
        return mediaElementContainer;
    }
})();
